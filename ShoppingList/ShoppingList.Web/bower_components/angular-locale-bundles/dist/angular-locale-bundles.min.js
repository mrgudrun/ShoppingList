/**! 
 * @license angular-locale-bundles v0.1.7
 * Copyright (c) 2013 . https://github.com/AresProjectManagement/angular-locale-bundles
 * License: MIT
 */
!function(){"use strict";var a=function(b,c,d,e,f){function g(a,b){var d=a.split(".");d.pop();var e=d.join(".");return!angular.isString(c(e)(b))}var h=this,i=angular.extend({responseTransformer:function(a){return a.data},httpOpts:void 0,translations:void 0},f);this.translations=i.translations&&i.translations.then?i.translations:b.get(e,i.httpOpts).then(i.responseTransformer,function(){return{}}),this.addToScope=function(a,b){b=b||"bundle",h.translations.then(function(e){angular.forEach(e,function(e,f){var h=b+"."+f;g(h,a)?c(h).assign(a,e):d.warn("Cannot set `"+h+"` to `"+e+"`. Parent is already set to a string primitive.")})})},this.get=function(a){return h.translations.then(function(b){return b[a]||a},function(){return a})},this.filter=function(f){var g=angular.copy(i);return g.translations=h.translations.then(function(a){var b={};return angular.forEach(a,function(a,c){f(a,c)&&(b[c]=a)}),b}),new a(b,c,d,e,g)}},b=function(){function b(a,b){return b?d.replace("{{bundle}}",a||"").replace("{{locale}}",b||""):c.replace("{{bundle}}",a||"")}var c,d,e={},f=!0,g=!0,h=function(a){return a.data};this.httpConfig=function(a){angular.extend(e,a)},this.bundleUrl=function(a){c=a},this.bundleLocaleUrl=function(a){d=a},this.responseTransformer=function(a){h=a},this.useAcceptLanguageHeader=function(a){f=a},this.enableHttpCache=function(a){g=a},this.$get=function(c,d,i){return function(j,k){var l=b(j,k),m={headers:k&&f?{"Accept-Language":k}:void 0,cache:g};return angular.extend(m,e),new a(c,d,i,l,{httpOpts:m,responseTransformer:h})}},this.$get.$inject=["$http","$parse","$log"]},c=function(a){function b(a){if(!a||0===a.trim().length)return null;var b={bundle:a,prefix:"bundle"},c=[];return a.indexOf(" as ")>-1&&(c=a.split(/\s+as\s+/),b.bundle=c[0],b.prefix=c[1]),b}return{link:function(c,d,e){var f=b(e.localeBundle);f&&(a(f.bundle).addToScope(c,f.prefix),c.$watch(f.prefix+".locale",function(b){b&&0!==b.trim().length?a(f.bundle,b).addToScope(c,f.prefix):a(f.bundle).addToScope(c,f.prefix)}))}}};angular.module("angular-locale-bundles",[]).provider("localeBundleFactory",b).directive("localeBundle",["localeBundleFactory",c])}();